[supervisord]
nodaemon=true
logfile=/app/logs/supervisord.log
logfile_maxbytes=5MB
logfile_backups=3
loglevel=info
pidfile=/tmp/supervisord.pid

[program:discord-bot]
command=/venv/bin/python bot.py
directory=/app
autostart=true
autorestart=true
stdout_logfile=/dev/stdout
stdout_logfile_maxbytes=0
stderr_logfile=/dev/stderr
stderr_logfile_maxbytes=0
user=ddc

[program:web-ui]
command=/venv/bin/gunicorn -c gunicorn_config.py app.web_ui:app
directory=/app
autostart=true
autorestart=true
stdout_logfile=/app/logs/webui.log
stderr_logfile=/app/logs/webui.log
stdout_logfile_maxbytes=10MB
stderr_logfile_maxbytes=10MB
stdout_logfile_backups=3
stderr_logfile_backups=3
environment=DDC_WEB_PORT="5001"
user=ddc