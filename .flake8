# -*- coding: utf-8 -*-
# ============================================================================ #
# DockerDiscordControl (DDC) - Flake8 Configuration                           #
# https://ddc.bot                                                              #
# Copyright (c) 2025 MAX                                                       #
# Licensed under the MIT License                                               #
# ============================================================================ #

[flake8]
# Maximum line length
max-line-length = 100

# Maximum cyclomatic complexity (target: < 10)
max-complexity = 10

# Exclude paths
exclude =
    .git,
    __pycache__,
    .pytest_cache,
    .mypy_cache,
    .tox,
    venv,
    env,
    .venv,
    .env,
    build,
    dist,
    *.egg-info,
    .eggs,
    node_modules,
    data,
    logs,
    temp,
    tmp

# Ignore specific errors/warnings
ignore =
    # Whitespace issues (handled by black/autopep8)
    E203,  # whitespace before ':'
    E501,  # line too long (handled by max-line-length)
    W503,  # line break before binary operator (PEP 8 updated)
    W504,  # line break after binary operator
    # Import related
    F401,  # module imported but unused (handled selectively)
    # Documentation
    D100,  # Missing docstring in public module
    D101,  # Missing docstring in public class
    D102,  # Missing docstring in public method
    D103,  # Missing docstring in public function
    D104,  # Missing docstring in public package
    D105,  # Missing docstring in magic method
    D107,  # Missing docstring in __init__
    # Other
    E402,  # module level import not at top of file (sometimes needed)

# Enable specific warnings
select =
    E,    # pycodestyle errors
    W,    # pycodestyle warnings
    F,    # pyflakes
    C,    # mccabe complexity
    N,    # pep8-naming

# Show source code for each error
show-source = true

# Show pep8 error context
show-pep8 = true

# Count errors
count = true

# Print total number of errors
statistics = true

# Format
format = %(path)s:%(row)d:%(col)d: %(code)s %(text)s

# Per-file ignores
per-file-ignores =
    # __init__.py files can have unused imports
    __init__.py:F401,F403
    # Test files can be more relaxed
    tests/**/*.py:E501,C901
    # Legacy code may have higher complexity
    app/bot/legacy/**/*.py:C901
